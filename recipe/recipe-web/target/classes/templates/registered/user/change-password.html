<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">

<head>
  <link rel="stylesheet" th:href="@{/css/bootstrap.min.css}">
  <link rel="stylesheet"
        href="https://fonts.googleapis.com/css?family=Inter:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800&amp;display=swap">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-Zenh87qX5JnK2Jl0vWa8Ck2rdkQ2Bzep5IDxbcnCeuOxjzrPF/et3URy9Bv1WTRi" crossorigin="anonymous">

  <div th:replace="header :: myheader"></div>
  <meta charset="UTF-8">
  <title>Yumoid - Change Password</title>
</head>
<body class="">
<div class="">
  <main class="">
    <div class="container px-4 py-5 shadow" id="featured-2">
      <h2 class="pb-2 border-bottom">
        <div><span>Shopping List</span></div>
      </h2>
    <form th:action="@{/registered/user/change-password}" method="post">
      <div th:if="${message != null}">
        <div class="alert alert-danger" th:text="${message}"></div>
      </div>
      <h1 class="h3 mb-3 fw-normal" th:text="'Change Password'"></h1>

      <div class="mb-3">
        <label for="oldPassword" th:text="'Old Password'"></label>
        <input type="password" name="oldPassword" id="oldPassword" class="form-control" th:required="true"
               th:oninvalid="this.setCustomValidity('Please enter your current password')"
               th:oninput="this.setCustomValidity('')"/>
      </div>

      <div class="mb-3">
        <label for="password" th:text="'New Password'"></label>
        <input type="password" name="password" id="password" class="form-control" th:required="true"
               th:oninvalid="this.setCustomValidity('Please enter new password')"
               th:oninput="this.setCustomValidity('')"/>
      </div>

      <div class="mb-3">
        <label for="confirmPassword" th:text="'Confirm New Password'"></label>
        <input type="password" name="confirmPassword" id="confirmPassword" class="form-control" th:required="true"
               th:oninvalid="this.setCustomValidity('Please enter new password')"
               th:oninput="this.setCustomValidity('')"/>
      </div>
      <div>
        <input type="checkbox" onclick="myFunction()" th:text="'Show Password'"/>
      </div>
      <button class="w-100 btn   btn-dark" type="submit" th:text="'Change Password'"></button>
    </form>
    <br>
    <form th:action="@{/registered/user/view-profile}">
      <button class="w-100 btn   btn-dark" type="submit" th:text="'Cancel'"></button>
    </form>
    </div>
  </main>
</div>

<script>
  function myFunction() {
    let x = document.getElementById("oldPassword");
    let y = document.getElementById("password");
    let z = document.getElementById("confirmPassword")
    if (x.type === "password" || y.type === "password" || z.type === "password") {
      x.type = y.type = z.type = "text";
    } else {
      x.type = y.type = z.type = "password";
    }
  }
</script>
</body>
</html>